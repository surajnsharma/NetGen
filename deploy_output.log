[0;32m[2025-11-03 18:57:21] Starting Generic OSTG Deployment Script[0m
========================================
[0;34m[2025-11-03 18:57:21] INFO: Deployment type: full[0m
[0;32m[2025-11-03 18:57:21] Server Configuration[0m
===================
[0;34m[2025-11-03 18:57:21] INFO: Server Host: svl-hp-ai-srv04[0m
[0;34m[2025-11-03 18:57:21] INFO: SSH User: root[0m
[0;34m[2025-11-03 18:57:21] INFO: Target Path: /opt/OSTG[0m
[0;34m[2025-11-03 18:57:21] INFO: Temp Path: /tmp/ostg_deploy_temp[0m

[0;32m[2025-11-03 18:57:21] Checking prerequisites...[0m
[0;35m[2025-11-03 18:57:21] SUCCESS: Prerequisites check completed[0m
[0;34m[2025-11-03 18:57:21] INFO: Using existing wheel file[0m
[0;32m[2025-11-03 18:57:21] Copying files to server...[0m
[0;36m[2025-11-03 18:57:21] DEBUG: Copying wheel package...[0m
[0;35m[2025-11-03 18:57:23] SUCCESS: Files copied to server[0m
[0;32m[2025-11-03 18:57:23] Executing deployment on server...[0m
Pseudo-terminal will not be allocated because stdin is not a terminal.
Welcome to Ubuntu 22.04.5 LTS (GNU/Linux 5.15.0-153-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Nov  4 02:57:24 AM UTC 2025

  System load:              1.02
  Usage of /:               17.0% of 2.86TB
  Memory usage:             4%
  Swap usage:               0%
  Temperature:              33.0 C
  Processes:                810
  Users logged in:          1
  IPv4 address for ens14f0: 10.83.6.94
  IPv6 address for ens14f0: 2620:103:c003:a7a2:6e92:cfff:fe06:466e

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

88 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

37 additional security updates can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


The list of available updates is more than a week old.
To check for new updates run: sudo apt update
New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


*** System restart required ***
[0;32m[2025-11-04 02:57:26] Stopping existing OSTG server processes...[0m
[0;32m[2025-11-04 02:57:28] Creating backup of current installation...[0m
[0;34m[2025-11-04 02:57:28] INFO: Backup created: 20251104_025728[0m
[0;32m[2025-11-04 02:57:28] Performing full deployment...[0m
[0;32m[2025-11-04 02:57:28] Installing wheel package to /opt/OSTG...[0m
Processing ./ostg_trafficgen-0.1.52-py3-none-any.whl
Collecting wheel>=0.40.0
  Using cached wheel-0.45.1-py3-none-any.whl (72 kB)
Collecting setuptools>=65.0.0
  Using cached setuptools-80.9.0-py3-none-any.whl (1.2 MB)
Collecting Flask-Cors>=3.0.0
  Using cached flask_cors-6.0.1-py3-none-any.whl (13 kB)
Collecting Flask>=2.3.0
  Using cached flask-3.1.2-py3-none-any.whl (103 kB)
Collecting docker>=7.0.0
  Using cached docker-7.1.0-py3-none-any.whl (147 kB)
Collecting pytest-cov>=4.0.0
  Using cached pytest_cov-7.0.0-py3-none-any.whl (22 kB)
Collecting psutil>=5.9.8
  Using cached psutil-7.1.3-cp36-abi3-manylinux2010_x86_64.manylinux_2_12_x86_64.manylinux_2_28_x86_64.whl (263 kB)
Collecting PyQt5>=5.15.0
  Using cached PyQt5-5.15.11-cp38-abi3-manylinux_2_17_x86_64.whl (8.2 MB)
Collecting build>=0.10.0
  Using cached build-1.3.0-py3-none-any.whl (23 kB)
Collecting PyInstaller>=6.0.0
  Using cached pyinstaller-6.16.0-py3-none-manylinux2014_x86_64.whl (733 kB)
Collecting Pillow>=10.0.0
  Using cached pillow-12.0.0-cp310-cp310-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl (7.0 MB)
Collecting PyYAML>=6.0.0
  Using cached pyyaml-6.0.3-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (770 kB)
Collecting ipaddress>=1.0.23
  Using cached ipaddress-1.0.23-py2.py3-none-any.whl (18 kB)
Collecting scapy>=2.5.0
  Using cached scapy-2.6.1-py3-none-any.whl (2.4 MB)
Collecting pytest>=7.0.0
  Using cached pytest-8.4.2-py3-none-any.whl (365 kB)
Collecting requests>=2.31.0
  Using cached requests-2.32.5-py3-none-any.whl (64 kB)
Collecting packaging>=19.1
  Using cached packaging-25.0-py3-none-any.whl (66 kB)
Collecting tomli>=1.1.0
  Using cached tomli-2.3.0-py3-none-any.whl (14 kB)
Collecting pyproject_hooks
  Using cached pyproject_hooks-1.2.0-py3-none-any.whl (10 kB)
Collecting urllib3>=1.26.0
  Using cached urllib3-2.5.0-py3-none-any.whl (129 kB)
Collecting click>=8.1.3
  Using cached click-8.3.0-py3-none-any.whl (107 kB)
Collecting itsdangerous>=2.2.0
  Using cached itsdangerous-2.2.0-py3-none-any.whl (16 kB)
Collecting blinker>=1.9.0
  Using cached blinker-1.9.0-py3-none-any.whl (8.5 kB)
Collecting markupsafe>=2.1.1
  Using cached markupsafe-3.0.3-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (20 kB)
Collecting jinja2>=3.1.2
  Using cached jinja2-3.1.6-py3-none-any.whl (134 kB)
Collecting werkzeug>=3.1.0
  Using cached werkzeug-3.1.3-py3-none-any.whl (224 kB)
Collecting altgraph
  Using cached altgraph-0.17.4-py2.py3-none-any.whl (21 kB)
Collecting pyinstaller-hooks-contrib>=2025.8
  Using cached pyinstaller_hooks_contrib-2025.9-py3-none-any.whl (444 kB)
Collecting PyQt5-sip<13,>=12.15
  Using cached pyqt5_sip-12.17.1-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.whl (271 kB)
Collecting PyQt5-Qt5<5.16.0,>=5.15.2
  Using cached PyQt5_Qt5-5.15.17-py3-none-manylinux2014_x86_64.whl (61.1 MB)
Collecting pluggy<2,>=1.5
  Using cached pluggy-1.6.0-py3-none-any.whl (20 kB)
Collecting exceptiongroup>=1
  Using cached exceptiongroup-1.3.0-py3-none-any.whl (16 kB)
Collecting pygments>=2.7.2
  Using cached pygments-2.19.2-py3-none-any.whl (1.2 MB)
Collecting iniconfig>=1
  Using cached iniconfig-2.3.0-py3-none-any.whl (7.5 kB)
Collecting coverage[toml]>=7.10.6
  Using cached coverage-7.11.0-cp310-cp310-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (244 kB)
Collecting idna<4,>=2.5
  Using cached idna-3.11-py3-none-any.whl (71 kB)
Collecting charset_normalizer<4,>=2
  Using cached charset_normalizer-3.4.4-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (153 kB)
Collecting certifi>=2017.4.17
  Using cached certifi-2025.10.5-py3-none-any.whl (163 kB)
Collecting typing-extensions>=4.6.0
  Using cached typing_extensions-4.15.0-py3-none-any.whl (44 kB)
Installing collected packages: PyQt5-Qt5, ipaddress, altgraph, wheel, urllib3, typing-extensions, tomli, setuptools, scapy, PyYAML, PyQt5-sip, pyproject_hooks, pygments, psutil, pluggy, Pillow, packaging, markupsafe, itsdangerous, iniconfig, idna, coverage, click, charset_normalizer, certifi, blinker, werkzeug, requests, PyQt5, pyinstaller-hooks-contrib, jinja2, exceptiongroup, build, pytest, PyInstaller, Flask, docker, pytest-cov, Flask-Cors, ostg-trafficgen
Successfully installed Flask-3.1.2 Flask-Cors-6.0.1 Pillow-12.0.0 PyInstaller-6.16.0 PyQt5-5.15.11 PyQt5-Qt5-5.15.17 PyQt5-sip-12.17.1 PyYAML-6.0.3 altgraph-0.17.4 blinker-1.9.0 build-1.3.0 certifi-2025.10.5 charset_normalizer-3.4.4 click-8.3.0 coverage-7.11.0 docker-7.1.0 exceptiongroup-1.3.0 idna-3.11 iniconfig-2.3.0 ipaddress-1.0.23 itsdangerous-2.2.0 jinja2-3.1.6 markupsafe-3.0.3 ostg-trafficgen-0.1.52 packaging-25.0 pluggy-1.6.0 psutil-7.1.3 pygments-2.19.2 pyinstaller-hooks-contrib-2025.9 pyproject_hooks-1.2.0 pytest-8.4.2 pytest-cov-7.0.0 requests-2.32.5 scapy-2.6.1 setuptools-80.9.0 tomli-2.3.0 typing-extensions-4.15.0 urllib3-2.5.0 werkzeug-3.1.3 wheel-0.45.1
WARNING: Target directory /opt/OSTG/run_tgen_server.py already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/ipaddress-1.0.23.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/py.py already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/typing_extensions.py already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pluggy already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/charset_normalizer already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/idna-3.11.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/requests-2.32.5.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/docker already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/PIL already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/ostg already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/distutils-precedence.pth already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/werkzeug already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/werkzeug-3.1.3.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/click already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/capture_client.py already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/packaging already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/certifi-2025.10.5.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/multithreaded_traffic_gen.py already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/urllib3-2.5.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/exceptiongroup already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/PyQt5-5.15.11.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pygments already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/tomli already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/psutil already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/run_tgen_client.py already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/flask already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/tomli-2.3.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/itsdangerous-2.2.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/flask_cors already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/wheel already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/PyQt5 already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pytest_cov already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pillow.libs already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pyyaml-6.0.3.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pyproject_hooks-1.2.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/utils already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pytest already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/urllib3 already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/blinker already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/itsdangerous already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/blinker-1.9.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/widgets already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/altgraph-0.17.4.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/ostg_trafficgen-0.1.52.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/certifi already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/typing_extensions-4.15.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/wheel-0.45.1.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/exceptiongroup-1.3.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/_yaml already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/click-8.3.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/resources already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/flask-3.1.2.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/flask_cors-6.0.1.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/ipaddress.py already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/charset_normalizer-3.4.4.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pkg_resources already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pyqt5_sip-12.17.1.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/setuptools already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pyinstaller_hooks_contrib-2025.9.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/iniconfig-2.3.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/psutil-7.1.3.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pytest-8.4.2.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/packaging-25.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/_distutils_hack already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/yaml already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/systemd already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/_pyinstaller_hooks_contrib already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/markupsafe already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/coverage already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pillow-12.0.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/PyQt5_Qt5-5.15.17.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/jinja2-3.1.6.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/_pytest already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pyinstaller-6.16.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/scapy already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/iniconfig already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/idna already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/setup_docker.py already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/ostg_docker already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/build already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/build-1.3.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/requests already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/traffic_client already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/jinja2 already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/scapy-2.6.1.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/markupsafe-3.0.3.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/docker-7.1.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pygments-2.19.2.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pyproject_hooks already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/altgraph already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pytest_cov-7.0.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/pluggy-1.6.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/__pycache__ already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/coverage-7.11.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/setuptools-80.9.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/PyInstaller already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/share already exists. Specify --upgrade to force replacement.
WARNING: Target directory /opt/OSTG/bin already exists. Specify --upgrade to force replacement.
[0;32m[2025-11-04 02:57:37] Configuring Python path...[0m
[0;32m[2025-11-04 02:57:37] Extracting files from wheel...[0m
[0;34m[2025-11-04 02:57:37] INFO: Copied run_tgen_server.py from wheel[0m
[0;34m[2025-11-04 02:57:37] INFO: Copied utils directory from wheel[0m
[0;34m[2025-11-04 02:57:37] INFO: Copied widgets directory from wheel[0m
[0;32m[2025-11-04 02:57:37] Updating systemd service file...[0m
[0;34m[2025-11-04 02:57:37] INFO: Systemd service file updated to use /opt/OSTG with PYTHONPATH including /opt/OSTG[0m
[0;32m[2025-11-04 02:57:37] Verifying installation...[0m
OSTG imported successfully
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
Utils imported successfully
[0;34m[2025-11-04 02:57:37] INFO: ostg-server command available[0m
[0;32m[2025-11-04 02:57:37] Starting OSTG server using systemd...[0m
[0;35m[2025-11-04 02:57:40] SUCCESS: OSTG server started successfully via systemd[0m
[0;34m[2025-11-04 02:57:40] INFO: Service status: active[0m
[1;33m[2025-11-04 02:57:40] WARNING: Failed to start OSTG server[0m
[0;34m[2025-11-04 02:57:40] INFO: Server is listening on port 5051[0m
[0;32m[2025-11-04 02:57:40] Cleaning up wheel file...[0m
[0;35m[2025-11-04 02:57:40] SUCCESS: Deployment completed successfully![0m
[0;35m[2025-11-03 18:57:38] SUCCESS: Server deployment completed[0m
[0;32m[2025-11-03 18:57:38] Deployment Summary[0m
==================
[0;34m[2025-11-03 18:57:38] INFO: Deployment Type: full[0m
[0;34m[2025-11-03 18:57:38] INFO: Server: svl-hp-ai-srv04[0m
[0;34m[2025-11-03 18:57:38] INFO: Target Path: /opt/OSTG[0m
[0;34m[2025-11-03 18:57:38] INFO: Backup Enabled: true[0m
[0;34m[2025-11-03 18:57:38] INFO: Verification Enabled: true[0m
[0;34m[2025-11-03 18:57:38] INFO: Server Auto-start: true[0m
[0;34m[2025-11-03 18:57:38] INFO: Clean Temp Files: true[0m

[0;35m[2025-11-03 18:57:38] SUCCESS: OSTG server should be running on: http://svl-hp-ai-srv04:5051[0m

[0;34m[2025-11-03 18:57:38] INFO: Next steps:[0m
[0;34m[2025-11-03 18:57:38] INFO: 1. Connect to OSTG client: http://svl-hp-ai-srv04:5051[0m
[0;34m[2025-11-03 18:57:38] INFO: 2. Test your changes[0m
[0;34m[2025-11-03 18:57:38] INFO: 3. Check server logs: ssh root@svl-hp-ai-srv04 'journalctl -u ostg-server -f'[0m

[0;35m[2025-11-03 18:57:38] SUCCESS: Generic deployment completed successfully![0m
